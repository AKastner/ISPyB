<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<groupId>ispyb</groupId>
		<artifactId>ispyb-parent</artifactId>
		<version>0.0.1-SNAPSHOT</version>
	</parent>
	<artifactId>ispyb-ejb3</artifactId>
	<packaging>jar</packaging>
	<build>
		<resources>
 			<resource>
   				<directory>src/main/resources</directory>
   				<filtering>true</filtering>
 			</resource>
 		</resources>
 		<plugins>
			<!-- WildFly plugin to deploy war -->
			<plugin>
				<groupId>org.wildfly.plugins</groupId>
				<artifactId>wildfly-maven-plugin</artifactId>
				<version>${version.wildfly.maven.plugin}</version>
				<configuration>
					<skip>false</skip>
				</configuration>
			</plugin>
			
 
	<plugin>
		
		<groupId>org.codehaus.mojo</groupId>
		<artifactId>jaxws-maven-plugin</artifactId>
		<version>1.12</version>
		
		<executions>
		
		<execution>
			<id>smis</id>
				<goals>
					<goal>wsimport</goal>
				</goals>
		
				<configuration>
				<bindingDirectory>src/main/resources</bindingDirectory>
					<bindingFiles>
                    	<bindingFile>
                        		${basedir}/src/main/resources/bindings.xml
                    	</bindingFile>
                 	</bindingFiles>
				
					<wsdlUrls>
              			<wsdlUrl>http://ovm-smis.esrf.fr:8080/SMISServer-ejb3/SMISWebService/SMISWebServiceBean?wsdl</wsdlUrl>
           			</wsdlUrls>
					<packageName>generated.ws.smis</packageName>
				</configuration>
		</execution>
		
		</executions>		
			
		</plugin>


<!--  	
		<plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-jar-plugin</artifactId>
        <version>2.6</version>
        <executions>
		<execution>
            <phase>package</phase>
            <goals>
              <goal>jar</goal>
            </goals>
            <configuration>
              <finalName>dewarAPI</finalName>
              <includes>
                <include>**/shipping/Dewar*.*</include>
                <include>**/vos/ISPyB*.*</include>
                <include>**/common/util/ejb/*.*</include>
              </includes>
            </configuration>
          </execution>
		
        </executions>
      </plugin>
    -->	  
      
		</plugins>
	</build>
	<dependencies>
		<!-- Import the CDI API, we use provided scope as the API is included in 
			JBoss WildFly -->
		<dependency>
			<groupId>javax.enterprise</groupId>
			<artifactId>cdi-api</artifactId>
			<scope>provided</scope>
		</dependency>

		<!-- Import the Common Annotations API (JSR-250), we use provided scope 
			as the API is included in JBoss WildFly -->
		<!-- <dependency> -->
		<!-- <groupId>org.jboss.spec.javax.annotation</groupId> -->
		<!-- <artifactId>jboss-annotations-api_1.2_spec</artifactId> -->
		<!-- <scope>provided</scope> -->
		<!-- </dependency> -->

		<!-- Import the EJB API, we use provided scope as the API is included in 
			JBoss WildFly -->
		<dependency>
			<groupId>org.jboss.spec.javax.ejb</groupId>
			<artifactId>jboss-ejb-api_3.2_spec</artifactId>
			<scope>provided</scope>
		</dependency>


		<dependency>
			<groupId>org.hibernate</groupId>
			<artifactId>hibernate-core</artifactId>
			<version>4.0.0.Final</version>
			<exclusions>
				<exclusion>
					<groupId>antlr</groupId>
					<artifactId>antlr</artifactId>
				</exclusion>
			</exclusions>
		</dependency>


		<!-- To be reconsidered -->
		<!-- <dependency> -->
		<!-- <groupId>org.hibernate</groupId> -->
		<!-- <artifactId>hibernate-entitymanager</artifactId> -->
		<!-- <version>4.3.8.Final</version> -->
		<!-- </dependency> -->
		<dependency>
			<groupId>com.google.code.gson</groupId>
			<artifactId>gson</artifactId>
			<version>1.7.1</version>
		</dependency>
		<dependency>
			<groupId>org.jboss.ejb3</groupId>
			<artifactId>jboss-ejb3-ext-api</artifactId>
			<version>2.1.0</version>
		</dependency>
		<dependency>
			<groupId>org.jboss.as</groupId>
			<artifactId>jboss-as-security</artifactId>
			<version>7.1.1.Final</version>
		</dependency>

		<dependency>
			<groupId>org.apache.axis</groupId>
			<artifactId>axis</artifactId>
			<version>1.4</version>
		</dependency>
		<dependency>
			<groupId>org.apache.httpcomponents</groupId>
			<artifactId>httpclient</artifactId>
			<version>4.4</version>
		</dependency>
		<dependency>
			<groupId>org.jboss.ws</groupId>
			<artifactId>jbossws-spi</artifactId>
			<version>2.3.1.Final</version>
		</dependency>
		<dependency>
			<groupId>jhdf</groupId>
			<artifactId>jhdf</artifactId>
			<version>1.0</version>
		</dependency>
		<dependency>
			<groupId>jhdf5</groupId>
			<artifactId>jhdf5</artifactId>
			<version>1.0</version>
		</dependency>
		<dependency>
			<groupId>jhdf5obj</groupId>
			<artifactId>jhdf5obj</artifactId>
			<version>1.0</version>
		</dependency>
		<dependency>
			<groupId>jhdfobj</groupId>
			<artifactId>jhdfobj</artifactId>
			<version>1.0</version>
		</dependency>
		<dependency>
			<groupId>securityaes</groupId>
			<artifactId>securityaes</artifactId>
			<version>1.0</version>
		</dependency>
		<dependency>
			<groupId>securityfilter</groupId>
			<artifactId>securityfilter</artifactId>
			<version>1.0</version>
		</dependency>
		<dependency>
			<groupId>javax.mail</groupId>
			<artifactId>mail</artifactId>
			<version>1.4.7</version>
		</dependency>
		<dependency>
			<groupId>javax.xml.rpc</groupId>
			<artifactId>javax.xml.rpc-api</artifactId>
			<version>1.1.1</version>
		</dependency>
		<dependency>
			<groupId>javax.persistence</groupId>
			<artifactId>persistence-api</artifactId>
			<version>1.0</version>
		</dependency>
		
	<dependency>
		<groupId>org.codehaus.mojo</groupId>
		<artifactId>jaxws-maven-plugin</artifactId>
		<version>1.12</version>
	</dependency>

	</dependencies>
	
	  <!--  profiles to separate dev to prod properties -->
  <!--  the dev properties have to be set according to your own dev environment -->
  <profiles>
    <profile>
  		<id>PROD</id>
  		<activation>
        	<activeByDefault>true</activeByDefault>
      	</activation>
  		
  		<properties>
  		  	<ispyb.deployment.mode>PROD</ispyb.deployment.mode>  		
  			<js.minimized>true</js.minimized>
  			<js.alternative.path.enabled>false</js.alternative.path.enabled>
  			<js.alternative.path> </js.alternative.path>
  		</properties>
  	</profile>
     <profile>
  		<id>DEV</id>
  		<properties>
  			<js.minimized>false</js.minimized>
  			<ispyb.deployment.mode>DEV</ispyb.deployment.mode>
  			<js.alternative.path>http://172.26.4.24:8082</js.alternative.path>
  			<js.alternative.path.enabled>true</js.alternative.path.enabled>
  			<data.path>/work/ademaria/data/pyarch/</data.path>
  		</properties>
  	</profile>

  <!--  profiles to separate site dependent properties -->  
  	<profile>
  		<id>ESRF</id>
  		<activation>
        	<activeByDefault>true</activeByDefault>
        </activation>
  		
  		<properties>
  			<ispyb.site>ESRF</ispyb.site>
  			<ispyb.dbDialect>MYSQL</ispyb.dbDialect>
  			<ispyb.dbJndiName.direct>java:jboss/ispyb_db_direct</ispyb.dbJndiName.direct>
  			<ispyb.authentication.method>LDAP</ispyb.authentication.method>
  			<ispyb.authorisation.proposals.source>database</ispyb.authorisation.proposals.source>
  			
  			<ldap.employee.resource>ldap://ldap.esrf.fr:389/</ldap.employee.resource>
  			<ldap.people>ou=people,dc=esrf,dc=fr</ldap.people>
  			
  			<ispyb.root.folder>/data/pyarch/</ispyb.root.folder>
  			<ispyb.root.folder>/data/pyapdb/</ispyb.root.folder>
  			
  			<ispyb.server.name.prod>wwws.esrf.fr</ispyb.server.name.prod>
  			<ispyb.server.name.prod.alias>ispyb.esrf.fr</ispyb.server.name.prod.alias>
  			<ispyb.server.name.prod.ext>160.103.210.124</ispyb.server.name.prod.ext>
  			<ispyb.server.name.test>ispyvalid.esrf.fr</ispyb.server.name.test>
  			
  			<ispyb.dataprocessing.denzo>true</ispyb.dataprocessing.denzo>
  			<ispyb.path.mappingstyle>ESRF</ispyb.path.mappingstyle>
  			<ispyb.bcm>mxcube</ispyb.bcm>
  			
  			<mail.smtp.host>160.103.2.175</mail.smtp.host>
  			<mail.admin>solange.delageniere@esrf.fr</mail.admin>
  			<mail.dev>solange.delageniere@esrf.fr</mail.dev>
  			<mail.ispyb>ispyb@esrf.fr</mail.ispyb>
  			<mail.stores>dewar-stores@esrf.fr</mail.stores>
  			
  			<mail.report.industry.from>mxind@esrf.fr</mail.report.industry.from>
			<mail.report.industry.cc>ix@esrf.fr</mail.report.industry.cc>					
			<mail.report.industry.cc.fx12>wang.weiru@gene.com </mail.report.industry.cc.fx12>
			
			<dictionary.site>The ESRF</dictionary.site> 
			<dictionary.bcm>mxCuBE</dictionary.bcm>
			
			<userportal.webservices.url>http://ovm-smis.esrf.fr:8080/SMISServer-ejb3/SMISWebService/SMISWebServiceBean</userportal.webservices.url>			  			
  			
  		</properties>
  	</profile>
  	<profile>
  		<id>EMBL</id>
  		<properties>
  			<ispyb.site>EMBL</ispyb.site>
  		</properties>
  	</profile>
  	<profile>
  		<id>SOLEIL</id>
  		<properties>
  			<ispyb.site>SOLEIL</ispyb.site>
  			<ispyb.dbDialect>ORACLE</ispyb.dbDialect>
  			<ispyb.dbJndiName>java:/oracle/ispyb_db</ispyb.dbJndiName>
  			<ispyb.dbJndiName.direct>java:/oracle/ispyb_db_direct</ispyb.dbJndiName.direct>
  			<ispyb.authentication.method>LDAP</ispyb.authentication.method>
  			<ispyb.authorisation.proposals.source>database</ispyb.authorisation.proposals.source>
  			<ispyb.email.admin>sunset.dev@synchrotron-soleil.fr</ispyb.email.admin>
  			
  		</properties>
  	</profile> 
  	  	<profile>
  		<id>MAXIV</id>
  		<properties>
  			<ispyb.site>MAXIV</ispyb.site>
  		</properties>
  	</profile> 
  	
  </profiles>
	

</project>
